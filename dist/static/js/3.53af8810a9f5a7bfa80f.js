webpackJsonp([3],{CuVb:function(e,t){},ZZZ8:function(e,t,s){s("hSSI");var o=s("AKd3").Object;e.exports=function(e){return o.getOwnPropertyNames(e)}},hSSI:function(e,t,s){s("t+Om")("getOwnPropertyNames",function(){return s("7J6k").f})},p00s:function(e,t,s){e.exports={default:s("ZZZ8"),__esModule:!0}},x27b:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("p00s"),a=s.n(o),n=s("aA9S"),r=s.n(n),c=s("5eyz"),l={props:{caseObj:{type:Object,required:!0}},name:"step2",data:function(){return{msg:"step2",labelPosition:"top",contentForm:{caseJointOffense:"否",caseVoluntarySurrender:"否",caseSupervise:"否",caseConfess:"否",caseMeritoriousPlot:"否",caseChase:"否",caseProcess:""},copyContentForm:{caseJointOffense:"否",caseVoluntarySurrender:"否",caseSupervise:"否",caseConfess:"否",caseMeritoriousPlot:"否",caseChase:"否",caseProcess:""}}},mounted:function(){var e=this;this.$nextTick(function(){window.checkIsSave=function(t,s){e.next(t,s)},e.contentForm1=r()({},e.contentForm),e.getCaseBaseInfo()})},methods:{next:function(e,t){var s=this;this.isObjEqual(this.copyContentForm,this.contentForm)?t?eDossier&&eDossier.close():e?this.$router.push({path:e}):this.$router.push({name:"step3"}):this.$confirm("有修改的案件信息未保存, 是否保存?","",{confirmButtonText:"保存",cancelButtonText:"取消",closeOnClickModal:!1,center:!0,showClose:!1}).then(function(){s.onSubmit(e,t)}).catch(function(){t?eDossier&&eDossier.close():e?s.$router.push({path:e}):s.$router.push({name:"step3"})})},prev:function(){var e=this;this.isObjEqual(this.copyContentForm,this.contentForm)?this.$router.push({name:"step1"}):this.$confirm("有修改的案件信息未保存, 是否保存?","",{confirmButtonText:"保存",cancelButtonText:"取消",closeOnClickModal:!1,center:!0,showClose:!1}).then(function(){e.onSubmit()}).catch(function(){e.$router.push({name:"step1"})})},getCaseBaseInfo:function(){var e=this,t={caseNumber:this.caseObj.caseNumber,userId:localCache.getItem("userId")};Object(c.h)({method:"post",url:"/api/4static/caseBaseInfo/getCaseBaseInfo",headers:{contentType:"application/json"},data:t}).then(function(t){t.data.data&&t.data.data.length>0?(e.contentForm=t.data.data[0],""===e.contentForm.caseJointOffense&&(e.contentForm.caseJointOffense="否"),""===e.contentForm.caseVoluntarySurrender&&(e.contentForm.caseVoluntarySurrender="否"),""===e.contentForm.caseSupervise&&(e.contentForm.caseSupervise="否"),""===e.contentForm.caseConfess&&(e.contentForm.caseConfess="否"),""===e.contentForm.caseMeritoriousPlot&&(e.contentForm.caseMeritoriousPlot="否"),""===e.contentForm.caseChase&&(e.contentForm.caseChase="否"),e.copyContentForm=r()({},e.contentForm)):"500"===t.data.code&&e.$message({message:t.data.msg,type:"error",duration:2e3})})},onSubmit:function(e,t){var s=this;localCache.getItem("userId")?(this.contentForm.createUser=localCache.getItem("userId"),Object(c.h)({method:"post",url:"/api/4static/caseBaseInfo/saveOrUpdateCaseBaseInfo",headers:{contentType:"application/json"},data:this.contentForm}).then(function(o){"200"===o.data.code?(s.$message({message:"保存案件基本信息成功",type:"success",duration:2e3}),s.getCaseBaseInfo(),t?eDossier&&eDossier.close():e&&s.$router.push({path:e})):s.$message({message:o.data.msg,type:"error",duration:3e3})})):this.$message({message:"userId为空",type:"error",duration:2e3})},addSubTab:function(){var e=this;if(this.contentForm.caseProcess&&""!==this.contentForm.caseProcess){var t={caseProcess:this.contentForm.caseProcess};Object(c.h)({method:"post",url:"/api/4static/caseBaseInfo/dataExtraction",headers:{contentType:"application/json"},data:t}).then(function(t){"200"===t.data.code?e.$message({message:"案件基本信息填充成功",type:"success",duration:2e3}):e.$message({message:"案件基本信息填充失败",type:"error",duration:2e3})})}else this.$message({message:"发案、立案、破案经过内容不能为空",type:"warning",duration:2e3})},isObjEqual:function(e,t){var s=a()(this.contentForm1),o=a()(e),n=a()(t);if(o.length!==n.length)return!1;for(var r=0,c=s.length;r<c;r++){var l=s[r];if(e[l]!==t[l])return!1}return!0}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"step-wrap",attrs:{id:"step2"}},[e._m(0),e._v(" "),e.contentForm?s("div",{staticClass:"step-body-without-tabs-wrap"},[s("el-form",{ref:"form",attrs:{"label-position":e.labelPosition,model:e.contentForm,"label-width":"80px"}},[s("el-row",[s("el-col",{staticStyle:{"padding-right":"40px"},attrs:{span:8}},[s("div",{},[s("el-form-item",{attrs:{label:"是否共同犯罪"}},[s("el-select",{attrs:{placeholder:""},model:{value:e.contentForm.caseJointOffense,callback:function(t){e.$set(e.contentForm,"caseJointOffense",t)},expression:"contentForm.caseJointOffense"}},[s("el-option",{attrs:{label:"是",value:"是"}}),e._v(" "),s("el-option",{attrs:{label:"否",value:"否"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"是否有自首情节"}},[s("el-select",{attrs:{placeholder:""},model:{value:e.contentForm.caseVoluntarySurrender,callback:function(t){e.$set(e.contentForm,"caseVoluntarySurrender",t)},expression:"contentForm.caseVoluntarySurrender"}},[s("el-option",{attrs:{label:"是",value:"是"}}),e._v(" "),s("el-option",{attrs:{label:"否",value:"否"}})],1)],1)],1)]),e._v(" "),s("el-col",{staticStyle:{padding:"0 20px"},attrs:{span:8}},[s("div",{},[s("el-form-item",{attrs:{label:"是否立案监督案件"}},[s("el-select",{attrs:{placeholder:""},model:{value:e.contentForm.caseSupervise,callback:function(t){e.$set(e.contentForm,"caseSupervise",t)},expression:"contentForm.caseSupervise"}},[s("el-option",{attrs:{label:"是",value:"是"}}),e._v(" "),s("el-option",{attrs:{label:"否",value:"否"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"是否坦白"}},[s("el-select",{attrs:{placeholder:""},model:{value:e.contentForm.caseConfess,callback:function(t){e.$set(e.contentForm,"caseConfess",t)},expression:"contentForm.caseConfess"}},[s("el-option",{attrs:{label:"是",value:"是"}}),e._v(" "),s("el-option",{attrs:{label:"否",value:"否"}})],1)],1)],1)]),e._v(" "),s("el-col",{staticStyle:{"padding-left":"40px"},attrs:{span:8}},[s("div",{},[s("el-form-item",{attrs:{label:"是否有立功情节"}},[s("el-select",{attrs:{placeholder:""},model:{value:e.contentForm.caseMeritoriousPlot,callback:function(t){e.$set(e.contentForm,"caseMeritoriousPlot",t)},expression:"contentForm.caseMeritoriousPlot"}},[s("el-option",{attrs:{label:"是",value:"是"}}),e._v(" "),s("el-option",{attrs:{label:"否",value:"否"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"是否追捕"}},[s("el-select",{attrs:{placeholder:""},model:{value:e.contentForm.caseChase,callback:function(t){e.$set(e.contentForm,"caseChase",t)},expression:"contentForm.caseChase"}},[s("el-option",{attrs:{label:"是",value:"是"}}),e._v(" "),s("el-option",{attrs:{label:"否",value:"否"}})],1)],1)],1)])],1),e._v(" "),s("el-row",[s("h3",{staticClass:"h3-title",staticStyle:{"margin-bottom":"5px"}},[s("p",{staticStyle:{"font-size":"14px",color:"#333","font-weight":"400","margin-bottom":"0"}},[e._v(" 发案、立案、破案经过")]),e._v(" "),s("span",{staticClass:"btn-wrap",staticStyle:{display:"none"}},[s("el-button",{staticStyle:{color:"#42a0f8"},attrs:{size:"small"},on:{click:function(t){e.addSubTab()}}},[e._v("确定")])],1)]),e._v(" "),s("el-form-item",{attrs:{label:""}},[s("el-input",{staticStyle:{"font-size":"14px",color:"#999","margin-bottom":"10px"},attrs:{type:"textarea",maxlength:"2048",rows:"10"},model:{value:e.contentForm.caseProcess,callback:function(t){e.$set(e.contentForm,"caseProcess",t)},expression:"contentForm.caseProcess"}})],1)],1)],1)],1):e._e(),e._v(" "),s("div",{staticClass:"step-footer-wrap"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){e.onSubmit()}}},[e._v("保存")]),e._v(" "),s("el-button",{attrs:{size:"small"},on:{click:function(t){e.prev()}}},[e._v("上一步")]),e._v(" "),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.next()}}},[e._v("下一步")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"step-header-wrap"},[t("h2",[this._v("案件基本信息")])])}]};var u=s("C7Lr")(l,i,!1,function(e){s("CuVb")},null,null);t.default=u.exports}});
//# sourceMappingURL=3.53af8810a9f5a7bfa80f.js.map